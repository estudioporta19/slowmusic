<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metrónomo Avançado</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Metrónomo Avançado</h1>

    <div class="container">
        <div class="mode-selector">
            <button id="modeClassicBtn" class="selected">Metrónomo Clássico</button>
            <button id="modeClaveBtn">Clave Designer</button>
            <button id="modeListBtn" disabled>Metrónomo de Lista (Em Breve)</button>
        </div>

        <hr>

        <div id="classicMetronomeModule" class="module-group active-module">
            <h2>Metrónomo Clássico</h2>
            <div class="controls-grid">
                <div class="control-group">
                    <label for="bpmSlider">BPM: <span id="bpmValue" class="value-display">120</span></label>
                    <input type="range" id="bpmSlider" min="40" max="240" value="120">
                </div>

                <div class="control-group">
                    <label for="timeNumerator">Tempos: <span id="timeNumeratorValue" class="value-display">4</span></label>
                    <input type="range" id="timeNumerator" min="1" max="16" value="4">
                </div>

                <div class="control-group">
                    <label for="timeDenominator">Tipo de tempo (Denominador): <span id="timeDenominatorValue" class="value-display">4</span></label>
                    <select id="timeDenominator">
                        <option value="1">Inteira</option>
                        <option value="2">Mínima</option>
                        <option value="4" selected>Semínima</option>
                        <option value="8">Colcheia</option>
                        <option value="16">Semicolcheia</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>Subdivisões:</label>
                    <div class="subdivision-controls">
                        <button id="subdivisionOffBtn" class="selected">OFF</button>
                        <button id="subdivision2Btn">2x</button>
                        <button id="subdivision3Btn">3x</button>
                        <button id="subdivision4Btn">4x</button>
                    </div>
                </div>
                
                <div class="control-group" id="compoundTimeGroup">
                    <label>Compasso Composto (Ex: 4+3)</label>
                    <input type="text" id="compoundSubdivisions" placeholder="Ex: 4+3 ou 3+4">
                    <small>Define acentos para compassos irregulares</small>
                </div>
            </div>
        </div>

        <div id="claveDesignerModule" class="module-group hidden-module">
            <h2>Clave Designer</h2>
            <div class="clave-designer-container">
                <div class="clave-designer-header">
                    <h3>Padrão Personalizado</h3>
                    <div class="control-group clave-cycle-control">
                        <label for="claveCycleLength">Duração do Ciclo (1-16): <span id="claveCycleLengthValue" class="value-display">16</span></label>
                        <input type="range" id="claveCycleLength" min="1" max="16" value="16">
                    </div>
                </div>
                <div class="clave-grid" id="claveGrid">
                    </div>
                <div class="clave-info">
                    Clique nos pontos para alternar o som: <span style="color:#e74c3c;">Forte</span>, <span style="color:#f39c12;">Médio</span>, <span style="color:#6c757d;">Desligado</span>.<br>
                    Cada bloco representa uma semicolcheia.
                </div>
            </div>
        </div>

        <div id="listMetronomeModule" class="module-group hidden-module">
            <h2>Metrónomo de Lista</h2>
            <p>Este módulo está em desenvolvimento. Permitirá sequenciar diferentes configurações de metrónomo e padrões de clave.</p>
            </div>

        <hr>

        <div class="metronome-status" id="metronomeStatus"></div>

        <div class="global-controls">
            <button id="playPauseBtn">▶️ Iniciar</button>
            <button id="stopBtn">⏹️ Parar</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
